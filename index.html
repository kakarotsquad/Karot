<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>$KAKAROT – Unleash the Saiyan Spirit</title>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@600;800&display=swap" rel="stylesheet" />
  <style>
    /* (mesmo CSS, mantido igual ao anterior, só omito aqui para resumir) */
  </style>
</head>
<body>
  <div id="loading-screen">⚡ Powering up...</div>
  <div class="marquee-container">
    <div class="marquee-text">$KAKAROT $KAKAROT $KAKAROT $KAKAROT $KAKAROT $KAKAROT</div>
  </div>
  <main>
    <img src="be70ec86fc53e267f668fc1815f6e1fe.jpg" alt="$KAKAROT Hero" class="hero" />
    <h1>$KAKAROT</h1>
    <p>🔥 The Legend of the Saiyan Begins!<br />Join the Kakarot Clan. Become a meme warrior in the crypto universe.</p>
    <a href="https://t.me/kamecoinsquad" class="btn" target="_blank">Join Telegram</a>
    <button onclick="playSound()" class="btn">💥 Power Up!</button>
    <button onclick="toggleSaiyan()" class="btn">⚡ Super Saiyan Mode</button>
    <audio id="dbzSound">
      <source src="over9000.mp3" type="audio/mpeg" />
    </audio>

    <div class="section">
      <h2>📖 Why We Created $KAKAROT</h2>
      <div class="history-box">
        <p>
          We created $KAKAROT not just as a meme — but as a tribute to the energy, imagination, and childhood nostalgia that Dragon Ball gave
          us.<br /><br />
          When we were young, we’d rush home after school, eyes wide, hearts pounding, waiting for Goku to charge up the next big Kamehameha.
          That feeling of limitless power, of overcoming the impossible — that's what we want to bring back.<br /><br />
          Now as adults in crypto, we channel that same energy into $KAKAROT. This isn’t just a token. It’s a power level. A dojo for believers.
          A meme with meaning.<br /><br />
          Because once a Saiyan, always a Saiyan.
        </p>
      </div>
    </div>

    <div class="section">
      <h2>📊 Tokenomics</h2>
      <ul>
        <li>Total Supply: Over 9000... Trillion!</li>
        <li>100% Community Owned (like the spirit bomb — everyone contributes)</li>
        <li>LP Burned harder than Vegeta's pride</li>
        <li>Contract Renounced — no one’s in control, not even Frieza</li>
      </ul>
    </div>

    <div class="section">
      <h2>🗺️ Roadmap</h2>
      <div class="scroll-box">
        <ul>
          <li>✅ Launch $KAKAROT with a Kamehameha</li>
          <li>✅ Form the Saiyan Squad on Telegram & Twitter</li>
          <li>🔜 Listing on DEXTools & CoinGecko (we're flying there on Nimbus)</li>
          <li>🔜 Meme War Tournament: May the best shitpost win</li>
          <li>🔜 NFT Drop – Each one blessed by King Kai</li>
          <li>🔜 Saiyan Staking Dojo (Train. Earn. Ascend.)</li>
          <li>🔜 $KAKAROT Power Level Tracker (Spoiler: It's over 9000)</li>
          <li>🔜 Global $KAKAROT Meetup (cosplay 100% encouraged)</li>
          <li>🔜 Fusion Partnerships – stronger together</li>
        </ul>
      </div>
    </div>

    <!-- CLICK GAME SECTION -->
    <div class="section" id="click-game">
      <h2>🎮 Fast Click Game</h2>
      <p>Click as fast as you can in 54 seconds!</p>

      <button id="connect-wallet-btn" class="btn">Connect MetaMask Wallet</button>
      <p id="wallet-address" style="margin-top:0.5rem; font-size:0.8rem; color:#00ff88;"></p>

      <button id="start-game-btn" class="btn" style="display:none; margin-top:1rem;">Start Game</button>

      <div id="game-info" style="margin-top: 1rem; font-size: 0.8rem; color: #00ff88;"></div>

      <button id="click-btn" class="btn" style="display:none; margin-top:1rem;">Click Here!</button>

      <p id="final-score" style="margin-top:1rem; font-weight:bold;"></p>

      <button id="claim-btn" class="btn" style="display:none; margin-top:1rem;">Claim Tokens</button>
      <p id="claim-status"></p>

      <h3 style="margin-top:2rem;">🏆 Weekly Leaderboard (Local)</h3>
      <ol id="leaderboard" style="text-align:left; max-width:300px; margin: 0 auto 1rem;"></ol>
    </div>

    <div class="socials">
      <a href="https://t.me/kamecoinsquad" target="_blank">
        <img src="https://cdn-icons-png.flaticon.com/512/2111/2111646.png" alt="Telegram" />
      </a>
      <a href="https://x.com/kamecoinbnb" target="_blank">
        <img src="https://cdn-icons-png.flaticon.com/512/733/733579.png" alt="Twitter" />
      </a>
    </div>

    <div class="partners">
      <p style="font-size: 0.55rem; color: #888;">
        2023 $KAKAROT &copy; All rights reserved.<br />
        Developed by <a href="https://github.com/kakarot" target="_blank" style="color:#00ff88;">KakarotDev</a>
      </p>
    </div>
  </main>

  <footer>
    The power level is rising... Stay tuned!
  </footer>

  <script>
    // Loading Screen
    window.addEventListener("load", () => {
      const loader = document.getElementById("loading-screen");
      setTimeout(() => {
        loader.style.display = "none";
      }, 2200);
    });

    // Sound effect
    function playSound() {
      const sound = document.getElementById("dbzSound");
      if(sound) {
        sound.currentTime = 0;
        sound.play();
      }
    }

    // Super Saiyan toggle
    function toggleSaiyan() {
      document.body.classList.toggle("super-saiyan");
    }

    // MetaMask + Click Game Integration

    let userAccount = null;

    const connectWalletBtn = document.getElementById("connect-wallet-btn");
    const walletAddressEl = document.getElementById("wallet-address");
    const startBtn = document.getElementById("start-game-btn");
    const clickBtn = document.getElementById("click-btn");
    const gameInfo = document.getElementById("game-info");
    const finalScoreEl = document.getElementById("final-score");
    const leaderboardEl = document.getElementById("leaderboard");
    const claimBtn = document.getElementById("claim-btn");
    const claimStatus = document.getElementById("claim-status");

    let clickCount = 0;
    const gameDuration = 54; // seconds
    let timer;
    let timeLeft;

    async function connectWallet() {
      if(typeof window.ethereum === "undefined") {
        alert("MetaMask not detected! Please install the extension and try again.");
        return;
      }
      try {
        const accounts = await ethereum.request({ method: "eth_requestAccounts" });
        userAccount = accounts[0];
        walletAddressEl.textContent = "Wallet connected: " + userAccount;
        connectWalletBtn.style.display = "none";
        startBtn.style.display = "inline-block";
        loadLeaderboard();
      } catch (err) {
        alert("Error connecting wallet: " + err.message);
      }
    }

    function saveScore(address, score) {
      let scores = JSON.parse(localStorage.getItem("kakarot_click_scores") || "[]");
      scores.push({address, score, date: Date.now()});
      scores = scores.filter(s => (Date.now() - s.date) < 7*24*60*60*1000);
      localStorage.setItem("kakarot_click_scores", JSON.stringify(scores));
    }

    function loadLeaderboard() {
      let scores = JSON.parse(localStorage.getItem("kakarot_click_scores") || "[]");
      scores = scores.filter(s => (Date.now() - s.date) < 7*24*60*60*1000);
      scores.sort((a,b) => b.score - a.score);
      scores = scores.slice(0,10);

      leaderboardEl.innerHTML = "";
      if(scores.length === 0) {
        leaderboardEl.innerHTML = "<li>No records yet.</li>";
        return;
      }
      scores.forEach(({address, score}, i) => {
        leaderboardEl.innerHTML += `<li><strong>${i+1}.</strong> ${address.slice(0,6)}...${address.slice(-4)} - ${score} clicks</li>`;
      });
    }

    function startGame() {
      if(!userAccount) {
        alert("Please connect your wallet to play and record your clicks!");
        return;
      }
      clickCount = 0;
      timeLeft = gameDuration;
      finalScoreEl.textContent = "";
      gameInfo.textContent = `Time left: ${timeLeft}s`;
      startBtn.style.display = "none";
      clickBtn.style.display = "inline-block";
      claimBtn.style.display = "none";
      claimStatus.textContent = "";

      timer = setInterval(() => {
        timeLeft--;
        gameInfo.textContent = `Time left: ${timeLeft}s`;
        if(timeLeft <= 0) {
          clearInterval(timer);
          endGame();
        }
      }, 1000);
    }

    function endGame() {
      clickBtn.style.display = "none";
      startBtn.style.display = "inline-block";
      finalScoreEl.textContent = `Game over! You clicked ${clickCount} times.`;

      saveScore(userAccount, clickCount);
      loadLeaderboard();

      let scores = JSON.parse(localStorage.getItem("kakarot_click_scores") || "[]");
      scores = scores.filter(s => (Date.now() - s.date) < 7*24*60*60*1000);
      scores.sort((a,b) => b.score - a.score);
      const rank = scores.findIndex(s => s.address === userAccount && s.score === clickCount) + 1;

      if(rank > 0 && rank <= 10) {
        claimBtn.style.display = "inline-block";
        claimStatus.textContent = `Congrats! You're in the weekly top ${rank}. You can claim your tokens!`;
        claimStatus.style.color = "#00ff88";
      } else {
        claimBtn.style.display = "none";
        claimStatus.textContent = `You're not in the top 10 yet. Keep trying!`;
        claimStatus.style.color = "#f44336";
      }
    }

    connectWalletBtn.addEventListener("click", connectWallet);
    startBtn.addEventListener("click", startGame);
    clickBtn.addEventListener("click", () => {
      clickCount++;
    });

    claimBtn.addEventListener("click", async () => {
      claimBtn.disabled = true;
      claimStatus.textContent = "Processing claim...";
      try {
        // TODO: Integrate with real smart contract claim function here
        await new Promise(r => setTimeout(r, 2000)); // Simulate delay
        claimStatus.textContent = "Tokens claimed successfully! 💥";
      } catch (e) {
        claimStatus.textContent = "Claim failed: " + e.message;
      }
      claimBtn.disabled = false;
    });

  </script>
</body>
</html>
